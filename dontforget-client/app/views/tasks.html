<tabset>
    <tab active="category_all" select="changeCurrentCategory(null)">
    	<tab-heading>Toutes</tab-heading>
    </tab>
    <tab ng-repeat="category in categories" active="category.active" select="changeCurrentCategory(category)" class="no-padding-right">
    	<tab-heading dropdown>
    		{{category.name}}
    		<button type="button" class="btn dropdown-toggle" dropdown-toggle style="background-color:transparent; padding:0px 10px;">
				<span class="caret"></span>
				<span class="sr-only">Split button!</span>
			</button>
			<ul class="dropdown-menu dropdown-menu-right" role="menu" style="min-width:10px;">
				<li><a href="#/tasks" ng-click="updateCategogy(category)" class="btn btn-default">Modifier <span class="glyphicon glyphicon-edit"></span></a></li>
				<li><a href="#/tasks" ng-click="deleteCategogy(category)" class="btn btn-default">Supprimer <span class="glyphicon glyphicon-trash"></span></a></li>
			</ul>
		</tab-heading>
    </tab>
    <a href="#/tasks" ng-click="ajouterCategorie()" class="btn">
	  <img src="images/add-icon.png" style="height:24px;" class="pull-left"/>
	</a>
</tabset>
<form>
	<div class="form-group">
		<label for="addTask">Nouvelle tâche :</label>
		<div class="dropdown" ng-class="{open:openTaskDropdown}">
			<input type="text" ng-click="addTaskClick()" ng-keyup="addTaskKeyUp($event)" ng-keydown="addTaskKeyDown($event)" class="form-control" id="addTask"
				placeholder="Entrez ici votre tâche" ng-model="addTaskValue" />
			<ul class="dropdown-menu" role="menu" aria-labelledby="addTask">
				<li role="presentation" ng-if="currentWord != null">{{currentWord}}</li>
				<li
					role="presentation"
					ng-repeat="(index, element) in addTaskDropdownValue track by $index"
					ng-class="{selected: addTaskDropdownIndexIsSelected(index), hidden:!addTaskDropdownIndexIsShowed(element)}">{{index}} : {{element.name}}</li>
			</ul>
		</div>
	</div>
</form>
<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert(alert)">
{{alert.msg}}
<button class="btn btn-sucess" ng-click="cancelAction(alert)" ng-show="alert.cancel != null">Cancel</button>
</alert>
<fieldset>
	<legend>Tâches enregistées
		<span class="btn-group pull-right">
	        <label class="btn btn-success" ng-model="allTasksModeView" btn-radio="'OPENED'" >In progress</label>
	        <label class="btn btn-success" ng-model="allTasksModeView" btn-radio="'FINISHED'" >Finished</label>
	        <label class="btn btn-success" ng-model="allTasksModeView" btn-radio="'DELETED'" >Deleted</label>
	        <label class="btn btn-success" ng-model="allTasksModeView" btn-radio="'ALL'" >All</label>
	    </span>
    </legend>
	<form>
		<div class="form-group has-feedback">
		  <label class="control-label" for="filterAllTasks">Filter by</label>
		  <div class="input-group">
			    <a ng-click="allTasksFilter = ''" style="top:0px" class="btn glyphicon glyphicon-remove input-group-addon"></a>
			    <input type="text" class="form-control" id="filterAllTasks" ng-model="allTasksFilter" />
		    </div>
		    <span class="glyphicon glyphicon-search form-control-feedback"></span>
		</div>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="task in allTasks" ng-if="allTasksIsShowed(task)">
				<button class="btn btn-primary" ng-if="task.status=='OPENED' || task.status=='DELETED'" ng-click="allTasksStatusFinished(task)">
					<span class="glyphicon glyphicon-ok"></span>
				</button>
				<button class="btn btn-primary" ng-if="task.status=='FINISHED'" ng-click="allTasksStatusOpened(task)">
					<span class="glyphicon glyphicon-refresh"></span>
				</button>
				<button class="btn btn-primary" ng-if="task.status=='FINISHED'" ng-click="allTasksStatusDeleted(task)">
					<span class="glyphicon glyphicon-trash"></span>
				</button>
				<button class="btn btn-danger" ng-if="task.status=='DELETED'" ng-click="allTasksStatusDeletedDefinitivly(task)">
					<span class="glyphicon glyphicon-trash"></span>
				</button>
				{{task.text}}
				<span class="badge" ng-repeat="place in task.places" ng-click="allTasksAddToFilters('@' + place.name)" tooltip="Add to filters">@{{place.name}} </span>
				<span class="badge" ng-repeat="tag in task.tags" ng-click="allTasksAddToFilters('#' + tag.name)" tooltip="Add to filters">#{{tag.name}} </span>
			</li>
		</ul>
	</form>
</fieldset>